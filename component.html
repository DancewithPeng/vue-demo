<html>
    <head>
        <script src="https://unpkg.com/vue"></script>        
        <script>
            Vue.component('my-component', {
                template: '<div>A custom component!</div>'
            })
        </script>
        
    </head>
    <body>
        <div id='demo1'>
            <my-component></my-component>
        </div>        
        <script>
            // è·Ÿå®ä¾‹ä¸€å®šè¦åœ¨æ³¨å†Œç»„ä»¶ä¹‹ååˆ›å»º
            const v1 = new Vue({
                el: '#demo1',
            })
        </script>

        <div id='demo2'>
            <hello />
        </div>
        <script>

            const Child = {
                template: '<div>Hello Vue.js!</div>'
            }

            // å±€éƒ¨æ³¨å†Œ
            const v2 = new Vue({
                el: '#demo2',
                components: {
                    hello: {
                        template: '<div>Hello Vue.js!</div>' 
                    }
                }                
            })
        </script>

        <div id='demo3'>
            <hello id='dd3' my-msg='Hello World!' />
        </div>
        <script>

            // çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ï¼Œç”¨props,
            // è¿™é‡Œå®šä¹‰äº†ç»„ä»¶çš„å±æ€§ï¼Œä½¿ç”¨æ—¶å¯ä»¥ç”¨ç›´æ¥ä½¿ç”¨            
            // å¦‚æœä¸ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡ç‰ˆï¼Œè¿™é‡Œå®šä¹‰çš„å±æ€§ï¼Œç”¨é©¼å³°å‘½åæ³•ï¼Œåˆ™ä½¿ç”¨æ—¶ï¼Œéœ€è¦è½¬æ¢æˆmy-msg
            const hello = {
                props: ['myMsg'],
                template: '<div>{{ myMsg }}</div>',
            }
            const v3 = new Vue({
                el: '#demo3',
                components: {
                    hello: hello
                }
            })

            const v33 = new Vue({
                el: '#dd3',
                created: function() {
                    console.log('ğŸ˜„ğŸ˜„' + this.msg)                    
                }
            })
        </script>

        <div id='demo4'>
            <!-- å¯ä»¥ç”¨v-bindç»‘å®šå­ç»„ä»¶çš„å±æ€§ï¼Œä¹Ÿä¼šè‡ªåŠ¨å“åº”å˜åŒ– -->
            <input type="text" v-model='parentMsg'>
            <br>
            <child :my-msg='parentMsg' />
        </div>
        <script>

            const child = {
                props: ['myMsg'],
                template: '<p>Input Msg is: {{ myMsg }}</p>'
            }

            const v4 = new Vue({
                el: '#demo4',
                data: {
                    parentMsg: '',                    
                },
                components: {
                    child: child
                }
            })            
        </script>

        <div id='demo5'>
            <my-test :t1='1234' t2='1234' t3='true' t5='1234' :t6='101' />                                                
        </div>
        <script>
            // å¯ä»¥æŒ‡å®špropsçš„ç±»å‹ï¼Œå¦‚æœç±»å‹ä¸å¯¹ï¼Œä¼šå‘å‡ºè­¦å‘Š
            // æ”¯æŒçš„ç±»å‹ï¼š
            // String
            // Number
            // Boolean
            // Function
            // Object
            // Array
            // Symbol
            // çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼ä¼šè¦†ç›–ç»„ä»¶åŸæœ¬çš„å±æ€§å€¼
            // ä½†æ˜¯classå’Œstyleå±æ€§é™¤å¤–ï¼Œè¿™ä¸¤ä¸ªå±æ€§ä¼šè¿›è¡Œåˆå¹¶æ“ä½œï¼Œå¹¶ä¸æ—¶è¦†ç›–æ“ä½œ

            const myTest = {

                props: {
                    t1: Number,
                    t2: String,
                    t3: [Number, String],
                    t4: {
                        type: Number,                        
                        default: 10
                    },
                    t5: {
                        type: String,
                        required: true
                    },
                    // è‡ªå®šä¹‰éªŒè¯å‡½æ•°
                    t6: {
                        validator: function(value) {
                            return value > 10
                        }
                    }
                },
                template: '<p> {{ this.t1 }} Hello Test! {{ this.t2 }} {{ this.t4 }}</p>'
            }
            const v5 = new Vue({
                el: '#demo5',
                data: {
                    
                },
                components: {
                    'my-test': myTest                    
                }
            })
        </script>

        <div id='demo6'>
            <p>{{ total }}</p>
            <button-counter key='11' v-on:increment='incrementTotal'></button-counter>
            <button-counter key='22' v-on:increment='incrementTotal'></button-counter>
        </div>

        <script>

            const btnCounter = {
                template: '<button @click="handleClick">{{ this.count }}</button>',
                data: function() {
                    return {
                        count: 0
                    }
                },
                methods: {
                    handleClick: function() {
                        this.count += 1
                        // å­æ§ä»¶å‘å°„äº‹ä»¶
                        this.$emit('increment', 1)                    
                    }
                },    
            }

            const v6 = new Vue({
                el: '#demo6',
                data: {
                    total: 0
                },
                methods: {
                    incrementTotal: function(value) {
                        this.total += value
                    }
                },
                components: {
                    'button-counter': btnCounter
                } 
            })
        </script>

        <div id='demo7'>
            <my-input v-model='test'></my-input>
            <p>input string: {{ test }}</p>
        </div>
        <script>
            // è‡ªå®šä¹‰ç»„ä»¶å¦‚æœéœ€è¦å®ç°v-modelç»‘å®šï¼Œéœ€è¦
            // 1.æœ‰valueå±æ€§
            // 2.åœ¨äº‹ä»¶è§¦å‘(éœ€è¦æ”¹å˜å€¼)æ—¶ï¼Œå‘å°„inputäº‹ä»¶
            const myInput = {
                template: '<input :value="value" @input="updateValue($event.target.value)"></input>',
                props: ['value'],
                methods: {
                    updateValue: function(value) {
                        this.$emit('input', value)
                    }
                }
            }

            const v7 = new Vue({
                el: '#demo7',
                data: {
                    test: ''                    
                },
                components: {
                    'my-input': myInput
                }
            })
        </script>        

        <div id='demo8'>
            <my-checkbox v-model='aaa'></my-checkbox>
            <p>Checked Value: {{ aaa }}</p>
        </div>
        <script>
            
            // è‡ªå®šä¹‰Modelçš„å€¼å’Œè§¦å‘çš„äº‹ä»¶
            // v-modelé»˜è®¤ç»‘å®šçš„æ—¶valueå±æ€§å’Œinputäº‹ä»¶
            const myCheckbox = {
                // template: '<div><input :checked="ck" @change="handleChange($event.target)" type="checkbox" id="checkbox" /> <label for="checkbox">å“ˆå“ˆå“ˆ</label></div>',
                template: '<div :style="styles" @click="handleClick"></div>',
                model: {
                    // è¿™ä¸¤ä¸ªå±æ€§å’Œè‡ªå®šä¹‰ç»„ä»¶ä¸­ inputçš„checkedå’Œchangeæ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåå­—å¯ä»¥éšä¾¿èµ·
                    // prop: 'ck',
                    // event: 'cg'                    
                    prop: 'color',
                    event: 'change'
                },
                props: {
                    color: String,
                },
                data: function() {
                    return {
                        styles: {  
                            backgroundColor: this.color,                          
                            height: '100px',
                            width: '100px'                       
                        }
                    }                           
                },
                methods: {
                    handleChange: function(value) {
                        // console.log(value.checked)
                        this.$emit('cg', value.checked)
                    },
                    handleClick: function() {
                        // console.log('ğŸ˜„ğŸ˜„ğŸ˜„')  
                        const newColor = this.color === 'red' ? 'blue' : 'red'
                        this.styles.backgroundColor = newColor                    
                        this.$emit('change', newColor)
                    }
                },
                // mounted: function() {
                //     this.styles = {    
                //         backgroundColor: this.color,                        
                //         height: '100px',
                //         width: '100px'                       
                //     }  

                //     console.log(this.color)                      
                // },
                // updated: function() {
                //     console.log(this.color)
                // }
            }

            const v8 = new Vue({
                el: '#demo8',
                data: {
                    aaa: 'red'
                },
                components: {
                    'my-checkbox': myCheckbox
                }
            })
        </script>
    </body>
</html>